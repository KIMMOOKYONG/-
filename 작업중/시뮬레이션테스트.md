```
!pip install pint
!pip install modsimpy
!pip install yfinance

```

```python
from modsim import *
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import yfinance as yf

```

```python
#----------------------------
# function that will create a dataframe for a single stock
# create_stock_df("GOOG", "2022-01-01", "2022-12-31", 20)
#----------------------------
def create_stock_df(stock, start, end, SMA):

    df = yf.download(stock, start = start, end = end, progress = False)

    df["day"] = range(1, len(df) + 1) # +1을하는 이유는 시작번호가 1로 시작하기 때문이다.
    df["stock"] = stock
    df["SMA_x"] = df.iloc[:,4].rolling(window=SMA).mean()
    df["shifted_close"] = df["Close"].shift(1)
    df["close_difference"] = df["Close"] - df["shifted_close"]
    df = df.reset_index()

    return df

```
